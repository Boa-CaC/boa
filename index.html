<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boa - Buscador de ofertas accesible</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <nav class="menuPrincipal">
        <a href="#" class="menuPrincipal__back u-hidde u-hiddeDesktop"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>
        <div class="menuPrincipal__leftWrapper">
            <h1 class="menuPrincipal__logo gelatina"><a class="menuPrincipal__logoLink" href="./index.html">BOA</a></h1>
            <select name="ciudad" id="ciudad" class="menuPrincipal__select">
                <option value="Mar del Plata" selected>Mar del Plata</option>
                <option value="Mar del Plata" >Miramar</option>
                <option value="Mar del Plata" >Cariló</option>
                <option value="Mar del Plata" >Pinamar</option>
                <option value="Mar del Plata" >San Bernardo</option>
            </select>
        </div>
        <button id="btnOpen" class="menuPrincipal__controlOpen u-hiddeDesktop" aria-expanded="false" aria-labelledby="nav-label"><i class="fa fa-bars" aria-hidden="true"></i></button>
        <div class="menuPrincipal__wrappItems" data-state="close" role="dialog">
            <button id="btnClose" class="menuPrincipal__controlClose u-hiddeDesktop"  aria-label="Close"><i class="fa fa-close" aria-hidden="true"></i></button>
            <ul class="menuPrincipal__items">
                <li class="menuPrincipal__item">
                    <a href="./index.html" class="menuPrincipal__link"><i class="menuPrincipal__icon fa fa-home" aria-hidden="true"></i> Inicio</a>
                </li>
                <li class="menuPrincipal__item">
                    <a href="./mapa.html" class="menuPrincipal__link"><i class="menuPrincipal__icon fa fa-map-marker" aria-hidden="true"></i> Mapa de ofertas</a>
                </li>
                <li class="menuPrincipal__item">
                    <a href="./faqs.html" class="menuPrincipal__link"><i class="menuPrincipal__icon fa fa-question" aria-hidden="true"></i> Preguntas frecuentes</a>
                </li>
                <li class="menuPrincipal__item">
                    <a href="./registro.html" class="menuPrincipal__link"><i class="menuPrincipal__icon fa fa-user-plus" aria-hidden="true"></i> Registrarse</a>
                </li>
                <li class="menuPrincipal__item">
                    <a href="./login.html" class="menuPrincipal__link"><i class="menuPrincipal__icon fa fa-sign-in" aria-hidden="true"></i> Ingresar</a>
                </li>
            </ul>
        </div>
    </nav>
    <header class="headerPrincipal">
        <h2 class="headerPrincipal__title">¿Qué estás buscando?</h2>
        <form action="./resultados.html" class="searchFrom">
            <label for="busqueda" class="searchFrom__label u-onlyOCR">Campo de búsqueda</label>
            <input id="busqueda" name="busqueda" class="searchFrom__input" placeholder="Ej.: Tienda Los gallegos" type="text">
        </form>
        <section class="filters">
            <button class="filters__item" data-state="active">Filtro 1</button>
            <button class="filters__item" data-state="">Filtro 2</button>
            <button class="filters__item" data-state="">Filtro 3</button>
            <button class="filters__item" data-state="active">Filtro 4</button>
            <button class="filters__item" data-state="">Filtro 5</button>
            <button class="filters__item" data-state="">Filtro 6</button>
        </section>
    </header>
    <main>
        <section class="mapHome">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7340.572030008748!2d-57.55728491365686!3d-38.00039396292633!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9584dc023c3ed125%3A0x91c12ebdbae37e3a!2sLove%20My%20Gift!5e0!3m2!1sen!2sar!4v1712060874445!5m2!1sen!2sar" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>
        <section class="lastPublications">
            <h2 class="lastPublications__title">Últimas publicaciones</h2>
            <div id="comercios-container" class="cards cards--ani">
                <script>
                    // Función para leer el archivo JSON
                    async function fetchData() {
                        try {
                            const response = await fetch('./data.json');
                            const data = await response.json();
                            return data;
                        } catch (error) {
                            console.error('Error al leer el archivo JSON:', error);
                        }
                    }
            
                    // Función para generar la estructura HTML para cada comercio
                    function generateCommerceCard(commerce) {
                        return `
                            <a href="#" class="card" role="article">
                                <header class="card__header">
                                    <img src="${commerce.profileImage}" alt="${commerce.headerImageAltText}" class="card__image">
                                    <p class="card__category">${commerce.category}</p>
                                </header>
                                <div class="card__body">
                                    <h3 class="card__title">${commerce.name}</h3>
                                    <p class="card__description">${commerce.description}</p>
                                </div>
                                <footer class="card__footer">
                                    <ul class="card__services">
                                        ${commerce.accessibility.map(service => `<li class="card__service"><span class="mdi ${getAccessibilityIcon(service)}"></span></li>`).join('')}
                                        ${commerce.menu.map(service => `<li class="card__service"><span class="mdi ${getAccessibilityIcon(service)}"></span></li>`).join('')}
                                    </ul>
                                </footer>
                            </a>
                        `;
                    }
            
                    // Función para obtener el icono de accesibilidad correspondiente
                    function getAccessibilityIcon(service) {
                        const icons = {
                            "braille": "mdi-braille",
                            "sign language": "mdi-sign-language",
                            "dog friendly": "mdi-dog",
                            "dog service" : "mdi-dog-service",
                            "wheelchair accessible": "mdi-wheelchair",
                            "diabetic": "medical_services",
                            "gluten free": "mdi-barley-off" , 
                            "vegan": "mdi-sprout", 
                            "diabetic" : "mdi-diabetes" 
                        };
                        return icons[service] || false;
                    }
            
                    // Función principal para generar y agregar las tarjetas al contenedor
                    async function generateCommerceCards() {
                        const comerciosContainer = document.getElementById('comercios-container');
                        const data = await fetchData();
                        if (data) {
                            data.forEach(commerce => {
                                comerciosContainer.innerHTML += generateCommerceCard(commerce);
                            });
                        }
                    }
            
                    // Llamar a la función principal
                    generateCommerceCards();
                </script>
            </div>
        </section>
        <section class="faqs">
            <h2 class="faqs__title">Preguntas Frecuentes</h2>
            <h3>Personas usuarias</h3>
            <div class="accordion">
                <details class="accordion__item">
                    <summary class="accordion__title">¿Cómo puedo buscar comercios locales en la plataforma?</summary>
                    <div class="accordion__description"><p>Puedes buscar comercios locales utilizando el cuadro de búsqueda en la página principal. También puedes filtrar los resultados por categorías como tipo de comercio, ubicación, y servicios ofrecidos.</p></div>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Qué tipo de información puedo encontrar sobre un comercio local en la plataforma?</summary>
                    <p class="accordion__description">En la página de cada comercio, encontrarás información detallada sobre sus servicios, ofertas, horarios de atención, datos de contacto y detalles de accesibilidad, como la presencia de rampas, baños para personas con discapacidad, menús en braille, entre otros.</p>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Puedo filtrar los resultados de búsqueda por aspectos específicos, como la accesibilidad?</summary>
                    <p class="accordion__description">Sí, puedes utilizar los filtros de búsqueda para encontrar comercios que cumplan con tus necesidades específicas de accesibilidad, como la presencia de rampas, baños adaptados, y otros servicios para personas con discapacidad.</p>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Cómo puedo contactar a un comercio local que encuentre en la plataforma?</summary>
                    <p class="accordion__description">En la página de cada comercio, encontrarás los datos de contacto, como números de teléfono y direcciones de correo electrónico, que puedes utilizar para comunicarte directamente con el comercio.</p>
                </details>
            </div>
            <h3>Comerciantes</h3>
            <div class="accordion">
                <details class="accordion__item">
                    <summary class="accordion__title">¿Cómo puedo registrar mi comercio en la plataforma?</summary>
                    <div class="accordion__description"><p>Puedes registrar tu comercio en la plataforma completando el formulario de registro en la sección destinada a comerciantes. Deberás proporcionar información sobre tu comercio, incluyendo datos de contacto, horarios de atención, servicios ofrecidos y detalles de accesibilidad.</p></div>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Qué beneficios obtengo al registrar mi comercio en la plataforma?</summary>
                    <div class="accordion__description"><p>Al registrar tu comercio en la plataforma, podrás promocionar tus servicios y ofertas a una audiencia más amplia, incluyendo personas que buscan comercios locales con servicios específicos de accesibilidad.</p></div>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Cómo puedo destacar la accesibilidad de mi comercio en la plataforma?</summary>
                    <div class="accordion__description"><p>En el formulario de registro, podrás indicar si tu comercio está preparado para recibir a personas con discapacidad, incluyendo detalles como la presencia de rampas, baños adaptados, menús en braille, entre otros.</p></div>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Puedo publicar ofertas y promociones de mi comercio en la plataforma?</summary>
                    <div class="accordion__description"><p>Sí, puedes publicar ofertas y promociones de tu comercio en la plataforma para atraer a nuevos clientes y dar a conocer tus servicios a la comunidad local.</p></div>
                </details>
                <details class="accordion__item">
                    <summary class="accordion__title">¿Cómo puedo actualizar la información de mi comercio en la plataforma?</summary>
                    <div class="accordion__description"><p>Puedes actualizar la información de tu comercio en la plataforma iniciando sesión en tu cuenta de comerciante y editando los detalles que desees cambiar.</p></div>
                </details>
            </div>
        </section>
    </main>
    <footer class="footerPrincipal">
        <p class="footerPrincipal__text">Hecho por el <strong>equipo 14</strong> para Codo a Codo.</p>
    </footer>
    <script src="./assets/js/script.js"></script>
</body>
</html>